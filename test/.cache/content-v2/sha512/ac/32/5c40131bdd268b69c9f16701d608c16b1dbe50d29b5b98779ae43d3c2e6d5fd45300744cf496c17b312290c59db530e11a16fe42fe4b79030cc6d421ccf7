{"_id":"@hqjs/stream-buffer-cache","_rev":"1-b1e45c0c4d7fedfb111ec4e2a51097a4","name":"@hqjs/stream-buffer-cache","dist-tags":{"latest":"1.0.1"},"versions":{"1.0.0":{"name":"@hqjs/stream-buffer-cache","version":"1.0.0","description":"Cache for node.js streams","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/hqjs/stream-buffer-cache.git"},"keywords":["cache","streams"],"author":{"name":"hqjs","email":"hqjs.org@gmail.com"},"license":"MIT","engines":{"node":">=10.0.0","npm":">=5.6.0"},"bugs":{"url":"https://github.com/hqjs/stream-buffer-cache/issues"},"homepage":"https://github.com/hqjs/stream-buffer-cache#readme","publishConfig":{"access":"public"},"devDependencies":{"eslint":"^7.1.0"},"gitHead":"3847ad47a9f00a3c0b1cf53441b185b90252975c","_id":"@hqjs/stream-buffer-cache@1.0.0","_nodeVersion":"14.0.0","_npmVersion":"6.14.4","dist":{"integrity":"sha512-KTROTxXKS+qRxZoOXB12hoY2zkffJRgfIyHWLjjADo8BFWbFncjRldk1iexJDVF1qVvjokRMBG52C+jTb0+JTA==","shasum":"5f21f3384087ce798d512b01af31436d64859924","tarball":"https://registry.npmjs.org/@hqjs/stream-buffer-cache/-/stream-buffer-cache-1.0.0.tgz","fileCount":6,"unpackedSize":14337,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJe1rfiCRA9TVsSAnZWagAAB/kP/iuxJFtSYRdmBMlaKdJQ\n/pszQxkgDRRmz6aIwtdr3mYOiC6EIwWKcGHYe2gBOtAGsLn7TPd7EvHmgBvg\nsfwM8J91FTRfbvSNuR8N3VnZzFaOkN4ol0irFFFbJXwT9U37LnsAqvPzzzLq\nNnymO05IV5TzaLXhYd6yuPM1B9YP4R+e7cKOaz5HjXq4WqHJ5mBphg1Xj8mh\nXyT6kfJQ5LgBbfUwjV+m4+dWHkCyDE7o73VijqfkDxPURrIrSoHipGWnuJsU\nwRDGUEPlsutcq6DEPscJlFDdf6i7u4+jOAYafwXQUL2cZwYnHUp67ZAs94zo\nHrTXXErUo/PDoeEHOPx5tE0u/DTmUQ/Gz5wyLxucso4q31Hq7NXOKSVS6tjm\nwXNEYBiU/SzSaD9NqY+350MF1xQIhogvW7gAFeV/rUE7YJzQjv3ZqFm884uC\nKYbolHVWD1sXmC5ndwuu1pZ01MbpP3yDToryBe/GjgazdQ3TvQKgbLNS5PIZ\n1TVKjYLfBaPxmZ2UQSKkSU8Hnq9SEe422tcpOsMizYXPszRxH5vMJmeJfLRU\nHDp+RSelGWSyRcw7HiXz9BjLpn+wCKaOoxwbevVzoUql4DZNjWOy0HQdMezb\nHvg+z9yWUmWZnQko+GRTRSk6LymIrQJcfZmdJi5JesBnL01AX2g/tHo+6Hq9\nImj4\r\n=RSWY\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"hqjs","email":"hqjsorg@gmail.com"}],"_npmUser":{"name":"hqjs","email":"hqjsorg@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stream-buffer-cache_1.0.0_1591130080970_0.9862229069586055"},"_hasShrinkwrap":false},"1.0.1":{"name":"@hqjs/stream-buffer-cache","version":"1.0.1","description":"Cache for node.js streams","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/hqjs/stream-buffer-cache.git"},"keywords":["cache","streams"],"author":{"name":"hqjs","email":"hqjs.org@gmail.com"},"license":"MIT","engines":{"node":">=10.0.0","npm":">=5.6.0"},"bugs":{"url":"https://github.com/hqjs/stream-buffer-cache/issues"},"homepage":"https://github.com/hqjs/stream-buffer-cache#readme","publishConfig":{"access":"public"},"devDependencies":{"eslint":"^7.1.0"},"gitHead":"565a9ce2aab93b85a68868a61a5d8a7207533e35","_id":"@hqjs/stream-buffer-cache@1.0.1","_nodeVersion":"14.0.0","_npmVersion":"6.14.4","dist":{"integrity":"sha512-uyu5b16OZfojhot0RF5I3t3v8rei+ry4EjNWFC9HR4MUwEqoBTuSJ/2UdPhmVZ/DYWZed1+lAw5WYCBssD6reA==","shasum":"d03fd50c0bcc45550cf16bbd2babf47d4864ab61","tarball":"https://registry.npmjs.org/@hqjs/stream-buffer-cache/-/stream-buffer-cache-1.0.1.tgz","fileCount":6,"unpackedSize":14226,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJe1rwBCRA9TVsSAnZWagAAYNwP/2vKmhTRYNHdVXcA0tQg\nFh0MSU17Tv0yD7DD9l9QjFHIpmUhsD9Zpjmd6O8JJ+6MUFFzxFvRwQH1f8Fw\nEdNhzujr2CB9ks89tRVI6r6G03ie4TlXNejHRtzQv+eXE019X/02g7lWmb8M\nj9e/rxlo63v466s6zKEawlwe+B3BIoAByPwTo/HazLSuRVYsSDYh3V4DbLvM\nHXxEY4Vgb6VanNdDWBj33wd7FIN8m1Ur8MyxmxAv/Y9fIHmcVqHpTpijIo4G\nIipElDqpuxSrWPocMMnrWEvZj5VxPiiBJ7/keNtz/hZQ510KsSLO4OnMqcTs\nYvum6rzwHcLwrpUsN0Cy+GTFGG6u5l3OS0OjrTkLNPbihQGMsTKD0Hhwewu7\nuF7Y1dYMDn7lZRw0/yu+74BAoXKpb1vF+95hvnMuRrdPB1X1u/8vs9i1KEP5\nKH1s4dMOyGI7olLgGWHbZnqRKZtrXU5KgioeAB9ZrsNs7BVAa2nejUiaq9OK\nBo9+teoTQY4Dz8vNSKOQVViXNW5keOfByC92wR2fozCNiSYygeTYP6HefEQV\nxWVWqVQoh3Q9G18MZyWUh3CSn/Bn8yaF+u+77cnBjRr/nkKblFkJpQJu5swb\nszBVraaSklOreqINmLeX6pd2IeUhPWRoD6jvp8RT8FGcCpKkE2quCh0GxykB\nqite\r\n=9FoC\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"hqjs","email":"hqjsorg@gmail.com"}],"_npmUser":{"name":"hqjs","email":"hqjsorg@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stream-buffer-cache_1.0.1_1591131137358_0.3734501276037223"},"_hasShrinkwrap":false}},"time":{"created":"2020-06-02T20:34:40.936Z","1.0.0":"2020-06-02T20:34:41.673Z","modified":"2020-06-02T20:52:19.748Z","1.0.1":"2020-06-02T20:52:17.520Z"},"maintainers":[{"name":"hqjs","email":"hqjsorg@gmail.com"}],"description":"Cache for node.js streams","homepage":"https://github.com/hqjs/stream-buffer-cache#readme","keywords":["cache","streams"],"repository":{"type":"git","url":"git+https://github.com/hqjs/stream-buffer-cache.git"},"author":{"name":"hqjs","email":"hqjs.org@gmail.com"},"bugs":{"url":"https://github.com/hqjs/stream-buffer-cache/issues"},"license":"MIT","readme":"# stream-buffer-cache\nCache for node.js streams. Stores stream results in a memory allowing to immediatly replay the stream.\n\nSpeed up your services.\n\nCan be applied to any cache that implements `Map` interface e.g. regular `Map` or LRU-cache. It redefines `get` and `set` methods to make a `Map` works with streams.\n\nUsefull for caching slow repetitive streaming connections, such as S3 requests or complex database queries.\n\n\nInstallation\n------------\n\n```npm i @hqjs/stream-buffer-cache```\n\n\nExample\n-------------\n\n```js\n// You can pass any class that implements Map interface\nconst LRUMap = require('lru-cache');\nconst Cache = require('@hqjs/stream-buffer-cache')(LRUMap);\n\n// LRU cache options\nconst options = {\n  max: 500,\n  maxAge: 1000 * 60 * 60,\n};\n\n// Pass your Map class option to Cache constructor\nconst cache = new Cache(options);\nconst fs = require('fs');\n\nfs.createReadStream('./buffer-cache.js', { encoding: 'utf8' })\n  .pipe(cache.set('test'));\n\ncache.get('test')\n  .pipe(fs.createWriteStream('./buffer-cache.js.test'));\n```\n\n\nAPI\n---\n\nThis methods from parent `Map` class are overriden\n\n##### set(key)\nreturns a Duplex stream\n```js\nfileStream.pipe(cache.set('key')).pipe(res);\n```\n\n\n##### get(key) => ReadableStream\n\n```js\nconst cached = cache.get('key');\nif (cached) {\n\tcached.pipe(res);\n}\n```\n","readmeFilename":"README.md"}